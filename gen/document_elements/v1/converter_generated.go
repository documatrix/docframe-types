// Code generated by go generate; DO NOT EDIT.
// This file was generated by docframe document element generator
package document_elementsv1

import (
	"fmt"

	"google.golang.org/protobuf/proto"
)

type Message interface {
	proto.Message

	ToNode(children ...Message) *Node
}

func (n *Node) ToNode(...Message) *Node {
	return n
}

type Protos []Message

func (protos Protos) ToProtoBytes() ([]byte, error) {
	rootNode := &Node{}

	var err error

	rootNode.Children = make([]*Node, len(protos))

	for i, p := range protos {
		rootNode.Children[i] = p.ToNode()
	}

	data, err := proto.Marshal(rootNode)
	if err != nil {
		return nil, fmt.Errorf("error marshalling root node: %w", err)
	}

	return data, nil
}
